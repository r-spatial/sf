<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create sf object — sf • sf</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">sf</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sf1.html">1. Simple Features for R</a>
    </li>
    <li>
      <a href="../articles/sf2.html">2. Reading, Writing and Converting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf3.html">3. Manipulating Simple Feature Geometries</a>
    </li>
    <li>
      <a href="../articles/sf4.html">4. Manipulating Simple Features</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-spatial/sf/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create sf object</h1>
    </div>

    
    <p>Create sf, which extends data.frame-like objects with a simple feature list column</p>
    

    <pre class="usage">st_sf(..., agr = NA_agr_, row.names,
  stringsAsFactors = default.stringsAsFactors(), crs, precision,
  sf_column_name = NULL)

# S3 method for sf
[(x, i, j, ..., drop = FALSE, op = st_intersects)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>column elements to be binded into an <code>sf</code> object or a single <code>list</code> or <code>data.frame</code> with such columns; at least one of these columns shall be a geometry list-column of class <code>sfc</code> or be a list-column that can be converted into an <code>sfc</code> by st_as_sfc.</p></td>
    </tr>
    <tr>
      <th>agr</th>
      <td><p>character vector; see details below.</p></td>
    </tr>
    <tr>
      <th>row.names</th>
      <td><p>row.names for the created <code>sf</code> object</p></td>
    </tr>
    <tr>
      <th>stringsAsFactors</th>
      <td><p>logical; logical: should character vectors be converted to factors?  The `factory-fresh' default is <code>TRUE</code>, but this can be changed by setting <code>options(stringsAsFactors = FALSE)</code>.</p></td>
    </tr>
    <tr>
      <th>crs</th>
      <td><p>coordinate reference system: integer with the EPSG code, or character with proj4string</p></td>
    </tr>
    <tr>
      <th>precision</th>
      <td><p>numeric; see st_as_binary</p></td>
    </tr>
    <tr>
      <th>sf_column_name</th>
      <td><p>character; name of the active list-column with simple feature geometries; in case
there are more than one and <code>sf_column_name</code> is not given, the first one is taken.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>object of class <code>sf</code></p></td>
    </tr>
    <tr>
      <th>i</th>
      <td><p>record selection, see [.data.frame</p></td>
    </tr>
    <tr>
      <th>j</th>
      <td><p>variable selection, see [.data.frame</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>logical, default <code>FALSE</code>; if <code>TRUE</code> drop the geometry column and return a <code>data.frame</code>, else make the geometry sticky and return a <code>sf</code> object.</p></td>
    </tr>
    <tr>
      <th>op</th>
      <td><p>function; geometrical binary predicate function to apply when <code>i</code> is a simple feature object</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>agr</code>, attribute-geometry-relationship, specifies for each non-geometry attribute column how it relates to the geometry, and can have one of following values: "constant", "aggregate", "identity". "constant" is used for attributes that are constant throughout the geometry (e.g. land use), "aggregate" where the attribute is an aggregate value over the geometry (e.g. population density or population count), "identity" when the attributes uniquely identifies the geometry of particular "thing", such as a building ID or a city name. The default value, <code>NA_agr_</code>, implies we don't know.</p>
<p>When confronted with a data.frame-like object, `st_sf` will try to find a geometry column of class `sfc`, and otherwise try to convert list-columns when available into a geometry column, using st_as_sfc.
    <code>[.sf</code> will return a <code>data.frame</code> or vector if the geometry column (of class <code>sfc</code>) is dropped (<code>drop=TRUE</code>), an <code>sfc</code> object if only the geometry column is selected, and otherwise return an <code>sf</code> object; see also [.data.frame; for <code>[.sf</code> <code>...</code> arguments are passed to <code>op</code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>g</span> <span class='kw'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span>(<span class='fu'><a href='st.html'>st_point</a></span>(<span class='fl'>1</span>:<span class='fl'>2</span>))
<span class='fu'>st_sf</span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fl'>3</span>,<span class='no'>g</span>)</div><div class='output co'>#&gt; Simple feature collection with 1 feature and 1 field
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 1 ymin: 2 xmax: 1 ymax: 2
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;   a          g
#&gt; 1 3 POINT(1 2)</div><div class='input'><span class='fu'>st_sf</span>(<span class='no'>g</span>, <span class='kw'>a</span><span class='kw'>=</span><span class='fl'>3</span>)</div><div class='output co'>#&gt; Simple feature collection with 1 feature and 1 field
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 1 ymin: 2 xmax: 1 ymax: 2
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;   a          g
#&gt; 1 3 POINT(1 2)</div><div class='input'><span class='fu'>st_sf</span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fl'>3</span>, <span class='fu'><a href='sfc.html'>st_sfc</a></span>(<span class='fu'><a href='st.html'>st_point</a></span>(<span class='fl'>1</span>:<span class='fl'>2</span>))) <span class='co'># better to name it!</span></div><div class='output co'>#&gt; Simple feature collection with 1 feature and 1 field
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 1 ymin: 2 xmax: 1 ymax: 2
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;   a st_sfc.st_point.1.2..
#&gt; 1 3            POINT(1 2)</div><div class='input'><span class='co'># create empty structure with preallocated empty geometries:</span>
<span class='no'>nrows</span> <span class='kw'>&lt;-</span> <span class='fl'>10</span>
<span class='no'>geometry</span> <span class='kw'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span>(<span class='fu'>lapply</span>(<span class='fl'>1</span>:<span class='no'>nrows</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='st.html'>st_geometrycollection</a></span>()))
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'>st_sf</span>(<span class='kw'>id</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='no'>nrows</span>, <span class='kw'>geometry</span> <span class='kw'>=</span> <span class='no'>geometry</span>)
<span class='no'>g</span> <span class='kw'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span>(<span class='fu'><a href='st.html'>st_point</a></span>(<span class='fl'>1</span>:<span class='fl'>2</span>), <span class='fu'><a href='st.html'>st_point</a></span>(<span class='fl'>3</span>:<span class='fl'>4</span>))
<span class='no'>s</span> <span class='kw'>=</span> <span class='fu'>st_sf</span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fl'>3</span>:<span class='fl'>4</span>, <span class='no'>g</span>)
<span class='no'>s</span>[<span class='fl'>1</span>,]</div><div class='output co'>#&gt; Simple feature collection with 1 feature and 1 field
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 1 ymin: 2 xmax: 1 ymax: 2
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;   a          g
#&gt; 1 3 POINT(1 2)</div><div class='input'><span class='fu'>class</span>(<span class='no'>s</span>[<span class='fl'>1</span>,])</div><div class='output co'>#&gt; [1] "sf"         "data.frame"</div><div class='input'><span class='no'>s</span>[,<span class='fl'>1</span>]</div><div class='output co'>#&gt; Simple feature collection with 2 features and 1 field
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 1 ymin: 2 xmax: 3 ymax: 4
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;   a          g
#&gt; 1 3 POINT(1 2)
#&gt; 2 4 POINT(3 4)</div><div class='input'><span class='fu'>class</span>(<span class='no'>s</span>[,<span class='fl'>1</span>])</div><div class='output co'>#&gt; [1] "sf"         "data.frame"</div><div class='input'><span class='no'>s</span>[,<span class='fl'>2</span>]</div><div class='output co'>#&gt; Simple feature collection with 2 features and 0 fields
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 1 ymin: 2 xmax: 3 ymax: 4
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;            g
#&gt; 1 POINT(1 2)
#&gt; 2 POINT(3 4)</div><div class='input'><span class='fu'>class</span>(<span class='no'>s</span>[,<span class='fl'>2</span>])</div><div class='output co'>#&gt; [1] "sf"         "data.frame"</div><div class='input'><span class='no'>g</span> <span class='kw'>=</span> <span class='fu'>st_sf</span>(<span class='kw'>a</span><span class='kw'>=</span><span class='fl'>2</span>:<span class='fl'>3</span>, <span class='no'>g</span>)
<span class='no'>pol</span> <span class='kw'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span>(<span class='fu'><a href='st.html'>st_polygon</a></span>(<span class='fu'>list</span>(<span class='fu'>cbind</span>(<span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>3</span>,<span class='fl'>3</span>,<span class='fl'>0</span>,<span class='fl'>0</span>),<span class='fu'>c</span>(<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>3</span>,<span class='fl'>3</span>,<span class='fl'>0</span>)))))
<span class='no'>h</span> <span class='kw'>=</span> <span class='fu'>st_sf</span>(<span class='kw'>r</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='no'>pol</span>)
<span class='no'>g</span>[<span class='no'>h</span>,]</div><div class='output co'>#&gt; Simple feature collection with 1 feature and 1 field
#&gt; geometry type:  POINT
#&gt; dimension:      XY
#&gt; bbox:           xmin: 1 ymin: 2 xmax: 1 ymax: 2
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;   a          g
#&gt; 1 2 POINT(1 2)</div><div class='input'><span class='no'>h</span>[<span class='no'>g</span>,]</div><div class='output co'>#&gt; Simple feature collection with 1 feature and 1 field
#&gt; geometry type:  POLYGON
#&gt; dimension:      XY
#&gt; bbox:           xmin: 0 ymin: 0 xmax: 3 ymax: 3
#&gt; epsg (SRID):    NA
#&gt; proj4string:    NA
#&gt;   r                            pol
#&gt; 1 5 POLYGON((0 0, 3 0, 3 3, 0 3...</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Edzer Pebesma.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
