<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>functions to interact with gdal not meant to be called directly by users (but e.g. by stars::read_stars) — gdal • sf</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="functions to interact with gdal not meant to be called directly by users (but e.g. by stars::read_stars) — gdal"><meta property="og:description" content="functions to interact with gdal not meant to be called directly by users (but e.g. by stars::read_stars)"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0-6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/sf1.html">1. Simple Features for R</a>
    </li>
    <li>
      <a href="../articles/sf2.html">2. Reading, Writing and Converting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf3.html">3. Manipulating Simple Feature Geometries</a>
    </li>
    <li>
      <a href="../articles/sf4.html">4. Manipulating Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf5.html">5. Plotting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf6.html">6. Miscellaneous</a>
    </li>
    <li>
      <a href="../articles/sf7.html">7. Spherical geometry in sf using s2geometry</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-spatial/sf/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>functions to interact with gdal not meant to be called directly by users (but e.g. by stars::read_stars)</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-spatial/sf/blob/HEAD/R/stars.R" class="external-link"><code>R/stars.R</code></a></small>
    <div class="hidden name"><code>gdal.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>functions to interact with gdal not meant to be called directly by users (but e.g. by stars::read_stars)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">gdal_read</span><span class="op">(</span>
  <span class="va">x</span>,
  <span class="va">...</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,
  driver <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,
  read_data <span class="op">=</span> <span class="cn">TRUE</span>,
  NA_value <span class="op">=</span> <span class="cn">NA_real_</span>,
  RasterIO_parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">gdal_write</span><span class="op">(</span>
  <span class="va">x</span>,
  <span class="va">...</span>,
  <span class="va">file</span>,
  driver <span class="op">=</span> <span class="st">"GTiff"</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,
  type <span class="op">=</span> <span class="st">"Float32"</span>,
  NA_value <span class="op">=</span> <span class="cn">NA_real_</span>,
  <span class="va">geotransform</span>,
  update <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>

<span class="fu">gdal_inv_geotransform</span><span class="op">(</span><span class="va">gt</span><span class="op">)</span>

<span class="fu">gdal_crs</span><span class="op">(</span><span class="va">file</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span>

<span class="fu">gdal_metadata</span><span class="op">(</span>
  <span class="va">file</span>,
  domain_item <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,
  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,
  parse <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="fu">gdal_subdatasets</span><span class="op">(</span><span class="va">file</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>, name <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu">gdal_polygonize</span><span class="op">(</span>
  <span class="va">x</span>,
  mask <span class="op">=</span> <span class="cn">NULL</span>,
  file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span>,
  driver <span class="op">=</span> <span class="st">"GTiff"</span>,
  use_integer <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">geotransform</span>,
  breaks <span class="op">=</span> <span class="fu">classInt</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/classInt/reference/classIntervals.html" class="external-link">classIntervals</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">as.vector</a></span><span class="op">(</span><span class="va">x</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">$</span><span class="va">brks</span>,
  use_contours <span class="op">=</span> <span class="cn">FALSE</span>,
  contour_lines <span class="op">=</span> <span class="cn">FALSE</span>,
  connect8 <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="fu">gdal_rasterize</span><span class="op">(</span><span class="va">sf</span>, <span class="va">x</span>, <span class="va">gt</span>, <span class="va">file</span>, driver <span class="op">=</span> <span class="st">"GTiff"</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="fu">gdal_extract</span><span class="op">(</span><span class="va">f</span>, <span class="va">pts</span>, bilinear <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="fu">gdal_read_mdim</span><span class="op">(</span><span class="va">file</span>, array_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span>

<span class="fu">gdal_write_mdim</span><span class="op">(</span><span class="va">x</span>, <span class="va">file</span>, <span class="va">dimension_values</span>, <span class="va">units</span><span class="op">)</span>

<span class="fu">gdal_create</span><span class="op">(</span><span class="va">f</span>, <span class="va">nxy</span>, <span class="va">values</span>, <span class="va">crs</span>, <span class="va">xlim</span>, <span class="va">ylim</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>character vector, possibly of length larger than 1 when more than one raster is read</p></dd>
<dt>...</dt>
<dd><p>ignored</p></dd>
<dt>options</dt>
<dd><p>open options</p></dd>
<dt>driver</dt>
<dd><p>character; when empty vector, driver is auto-detected.</p></dd>
<dt>read_data</dt>
<dd><p>logical; if <code>FALSE</code>, only the imagery metadata is returned</p></dd>
<dt>NA_value</dt>
<dd><p>(double) non-NA value to use for missing values; if <code>NA</code>, when writing missing values are not specially flagged in output dataset, when reading the default (dataset) missing values are used (if present / set).</p></dd>
<dt>RasterIO_parameters</dt>
<dd><p>list with named parameters to GDAL's RasterIO; see the stars::read_stars documentation.</p></dd>
<dt>file</dt>
<dd><p>file name</p></dd>
<dt>type</dt>
<dd><p>gdal write type</p></dd>
<dt>geotransform</dt>
<dd><p>length 6 numeric vector with GDAL geotransform parameters.</p></dd>
<dt>update</dt>
<dd><p>logical; <code>TRUE</code> if in an existing raster file pixel values shall be updated.</p></dd>
<dt>gt</dt>
<dd><p>double vector of length 6</p></dd>
<dt>domain_item</dt>
<dd><p>character vector of length 0, 1 (with domain), or 2 (with domain and item); use <code>""</code> for the default domain, use <code>NA_character_</code> to query the domain names.</p></dd>
<dt>parse</dt>
<dd><p>logical; should metadata be parsed into a named list (<code>TRUE</code>) or returned as character data?</p></dd>
<dt>name</dt>
<dd><p>logical; retrieve name of subdataset? If <code>FALSE</code>, retrieve description</p></dd>
<dt>mask</dt>
<dd><p>stars object with NA mask (0 where NA), or NULL</p></dd>
<dt>use_integer</dt>
<dd><p>boolean; if <code>TRUE</code>, raster values are read as (and rounded to) unsigned 32-bit integers values; if <code>FALSE</code> they are read as 32-bit floating points numbers. The former is supposedly faster.</p></dd>
<dt>breaks</dt>
<dd><p>numeric vector with break values for contour polygons (or lines)</p></dd>
<dt>use_contours</dt>
<dd><p>logical;</p></dd>
<dt>contour_lines</dt>
<dd><p>logical;</p></dd>
<dt>connect8</dt>
<dd><p>logical; if <code>TRUE</code> use 8 connection algorithm, rather than 4</p></dd>
<dt>sf</dt>
<dd><p>object of class <code>sf</code></p></dd>
<dt>f</dt>
<dd><p>character; file name</p></dd>
<dt>pts</dt>
<dd><p>points matrix</p></dd>
<dt>bilinear</dt>
<dd><p>logical; use bilinear interpolation, rather than nearest neighbor?</p></dd>
<dt>array_name</dt>
<dd><p>array name</p></dd>
<dt>dimension_values</dt>
<dd><p>list with dimension values</p></dd>
<dt>units</dt>
<dd><p>character; units names (udunits conform) corresponding to dimension_values</p></dd>
<dt>nxy</dt>
<dd><p>integer vector of length 2</p></dd>
<dt>values</dt>
<dd><p>fill value</p></dd>
<dt>crs</dt>
<dd><p>object of class <code>crs</code></p></dd>
<dt>xlim</dt>
<dd><p>numeric</p></dd>
<dt>ylim</dt>
<dd><p>numeric</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>object of class <code>crs</code>, see <a href="st_crs.html">st_crs</a>.
named list with metadata items
<code>gdal_subdatasets</code> returns a zero-length list if <code>file</code> does not have subdatasets, and else a named list with subdatasets.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>These functions are exported for the single purpose of being used by package stars, they are not meant to be used directly and may change or disappear without prior notice or deprecation warnings.</p>
<p>gdal_inv_geotransform returns the inverse geotransform</p>
<p>gdal_crs reads coordinate reference system from GDAL data set</p>
<p>get_metadata gets metadata of a raster layer</p>
<p>gdal_subdatasets returns the subdatasets of a gdal dataset</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="va">f</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"tif/L7_ETMs.tif"</span>, package<span class="op">=</span><span class="st">"stars"</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">f</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"nc/avhrr-only-v2.19810901.nc"</span>, package <span class="op">=</span> <span class="st">"stars"</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">gdal_metadata</span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">gdal_metadata</span><span class="op">(</span><span class="va">f</span>, <span class="cn">NA_character_</span><span class="op">)</span></span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu">gdal_metadata</span><span class="op">(</span><span class="va">f</span>, <span class="st">"wrongDomain"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">gdal_metadata</span><span class="op">(</span><span class="va">f</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"AREA_OR_POINT"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edzer Pebesma.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

