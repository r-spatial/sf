<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Geometric binary predicates on pairs of simple feature geometry sets — geos_binary_pred • sf</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Geometric binary predicates on pairs of simple feature geometry sets — geos_binary_pred"><meta name="description" content="Geometric binary predicates on pairs of simple feature geometry sets"><meta property="og:description" content="Geometric binary predicates on pairs of simple feature geometry sets"><meta property="og:image" content="https://r-spatial.github.io/sf/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">sf</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0-21</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/sf1.html">1. Simple Features for R</a></li>
    <li><a class="dropdown-item" href="../articles/sf2.html">2. Reading, Writing and Converting Simple Features</a></li>
    <li><a class="dropdown-item" href="../articles/sf3.html">3. Manipulating Simple Feature Geometries</a></li>
    <li><a class="dropdown-item" href="../articles/sf4.html">4. Manipulating Simple Features</a></li>
    <li><a class="dropdown-item" href="../articles/sf5.html">5. Plotting Simple Features</a></li>
    <li><a class="dropdown-item" href="../articles/sf6.html">6. Miscellaneous</a></li>
    <li><a class="dropdown-item" href="../articles/sf7.html">7. Spherical geometry in sf using s2geometry</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-spatial/sf/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Geometric binary predicates on pairs of simple feature geometry sets</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-spatial/sf/blob/main/R/geom-predicates.R" class="external-link"><code>R/geom-predicates.R</code></a></small>
      <div class="d-none name"><code>geos_binary_pred.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Geometric binary predicates on pairs of simple feature geometry sets</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">st_intersects</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_disjoint</span><span class="op">(</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">x</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_touches</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_crosses</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_within</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_contains</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span>, model <span class="op">=</span> <span class="st">"open"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_contains_properly</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_overlaps</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_equals</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  sparse <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  prepared <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  retain_unique <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  remove_self <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_covers</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span>, model <span class="op">=</span> <span class="st">"closed"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_covered_by</span><span class="op">(</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">x</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span>, model <span class="op">=</span> <span class="st">"closed"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_equals_exact</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">par</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, prepared <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">st_is_within_distance</span><span class="op">(</span><span class="va">x</span>, y <span class="op">=</span> <span class="va">x</span>, <span class="va">dist</span>, sparse <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span>, remove_self <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>object of class <code>sf</code>, <code>sfc</code> or <code>sfg</code></p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>object of class <code>sf</code>, <code>sfc</code> or <code>sfg</code>; if missing, <code>x</code> is used</p></dd>


<dt id="arg-sparse">sparse<a class="anchor" aria-label="anchor" href="#arg-sparse"></a></dt>
<dd><p>logical; should a sparse index list be returned (<code>TRUE</code>) or a dense logical matrix? See below.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code><a href="https://r-spatial.github.io/s2/reference/s2_options.html" class="external-link">s2::s2_options</a></code></p><dl><dt><code>snap</code></dt>
<dd><p>Use <code>s2_snap_identity()</code>, <code>s2_snap_distance()</code>, <code>s2_snap_level()</code>,
or <code>s2_snap_precision()</code> to specify how or if coordinate rounding should
occur.</p></dd>

    <dt><code>snap_radius</code></dt>
<dd><p>As opposed to the snap function, which specifies
the maximum distance a vertex should move, the snap radius (in radians) sets
the minimum distance between vertices of the output that don't cause vertices
to move more than the distance specified by the snap function. This can be used
to simplify the result of a boolean operation. Use -1 to specify that any
minimum distance is acceptable.</p></dd>

    <dt><code>duplicate_edges</code></dt>
<dd><p>Use <code>TRUE</code> to keep duplicate edges (e.g., duplicate
points).</p></dd>

    <dt><code>edge_type</code></dt>
<dd><p>One of 'directed' (default) or 'undirected'.</p></dd>

    <dt><code>validate</code></dt>
<dd><p>Use <code>TRUE</code> to validate the result from the builder.</p></dd>

    <dt><code>polyline_type</code></dt>
<dd><p>One of 'path' (default) or 'walk'. If 'walk',
polylines that backtrack are preserved.</p></dd>

    <dt><code>polyline_sibling_pairs</code></dt>
<dd><p>One of 'discard' (default) or 'keep'.</p></dd>

    <dt><code>simplify_edge_chains</code></dt>
<dd><p>Use <code>TRUE</code> to remove vertices that are within
<code>snap_radius</code> of the original vertex.</p></dd>

    <dt><code>split_crossing_edges</code></dt>
<dd><p>Use <code>TRUE</code> to split crossing polyline edges
when creating geometries.</p></dd>

    <dt><code>idempotent</code></dt>
<dd><p>Use <code>FALSE</code> to apply snap even if snapping is not necessary
to satisfy vertex constraints.</p></dd>

    <dt><code>dimensions</code></dt>
<dd><p>A combination of 'point', 'polyline', and/or 'polygon'
that can used to constrain the output of <code><a href="https://r-spatial.github.io/s2/reference/s2_boundary.html" class="external-link">s2_rebuild()</a></code> or a
boolean operation.</p></dd>


</dl></dd>


<dt id="arg-prepared">prepared<a class="anchor" aria-label="anchor" href="#arg-prepared"></a></dt>
<dd><p>logical; prepare geometry for <code>x</code>, before looping over <code>y</code>? See Details.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>character; polygon/polyline model; one of
"open", "semi-open" or "closed"; see Details.</p></dd>


<dt id="arg-retain-unique">retain_unique<a class="anchor" aria-label="anchor" href="#arg-retain-unique"></a></dt>
<dd><p>logical; if <code>TRUE</code> (and <code>y</code> is missing) return only indexes of points larger than the current index; this can be used to select unique geometries, see examples. This argument can be used for all geometry predicates; see also <a href="tidyverse.html">distinct.sf</a> to find records where geometries AND attributes are distinct.</p></dd>


<dt id="arg-remove-self">remove_self<a class="anchor" aria-label="anchor" href="#arg-remove-self"></a></dt>
<dd><p>logical; if <code>TRUE</code> (and <code>y</code> is missing) return only indexes of geometries different from the current index; this can be used to omit self-intersections; see examples. This argument can be used for all geometry predicates</p></dd>


<dt id="arg-par">par<a class="anchor" aria-label="anchor" href="#arg-par"></a></dt>
<dd><p>numeric; parameter used for "equals_exact" (margin);</p></dd>


<dt id="arg-dist">dist<a class="anchor" aria-label="anchor" href="#arg-dist"></a></dt>
<dd><p>distance threshold; geometry indexes with distances smaller or equal to this value are returned; numeric value or units value having distance units.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>sparse=FALSE</code>, <code>st_predicate</code> (with <code>predicate</code> e.g. "intersects") returns a dense logical matrix with element <code>i,j</code> equal to <code>TRUE</code> when <code>predicate(x[i], y[j])</code> (e.g., when geometry of feature i and j intersect); if <code>sparse=TRUE</code>, an object of class <code><a href="sgbp.html">sgbp</a></code> is returned, which is a sparse list representation of the same matrix, with list element <code>i</code> an integer vector with all indices <code>j</code> for which <code>predicate(x[i],y[j])</code> is <code>TRUE</code> (and hence a zero-length integer vector if none of them is <code>TRUE</code>). From the dense matrix, one can find out if one or more elements intersect by <code>apply(mat, 1, any)</code>, and from the sparse list by <code>lengths(lst) &gt; 0</code>, see examples below.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>prepared</code> is <code>TRUE</code>, and <code>x</code> contains POINT geometries and <code>y</code> contains polygons, then the polygon geometries are prepared, rather than the points.</p>
<p>For most predicates, a spatial index is built on argument <code>x</code>; see <a href="https://r-spatial.org/r/2017/06/22/spatial-index.html" class="external-link">https://r-spatial.org/r/2017/06/22/spatial-index.html</a>.
Specifically, <code>st_intersects</code>, <code>st_disjoint</code>, <code>st_touches</code> <code>st_crosses</code>, <code>st_within</code>, <code>st_contains</code>, <code>st_contains_properly</code>, <code>st_overlaps</code>, <code>st_equals</code>, <code>st_covers</code> and <code>st_covered_by</code> all build spatial indexes for more efficient geometry calculations. <code>st_relate</code>, <code>st_equals_exact</code>, and do not; <code>st_is_within_distance</code> uses a spatial index for geographic coordinates when <code><a href="s2.html">sf_use_s2()</a></code> is true.</p>
<p>If <code>y</code> is missing, <code>st_predicate(x, x)</code> is effectively called, and a square matrix is returned with diagonal elements <code>st_predicate(x[i], x[i])</code>.</p>
<p>Sparse geometry binary predicate (<code><a href="sgbp.html">sgbp</a></code>) lists have the following attributes: <code>region.id</code> with the <code>row.names</code> of <code>x</code> (if any, else <code>1:n</code>), <code>ncol</code> with the number of features in <code>y</code>, and <code>predicate</code> with the name of the predicate used.</p>
<p>for <code>model</code>, see https://github.com/r-spatial/s2/issues/32</p>
<p><code>st_contains_properly(A,B)</code> is true if A intersects B's interior, but not its edges or exterior; A contains A, but A does not properly contain A.</p>
<p>See also <a href="st_relate.html">st_relate</a> and <a href="https://en.wikipedia.org/wiki/DE-9IM" class="external-link">https://en.wikipedia.org/wiki/DE-9IM</a> for a more detailed description of the underlying algorithms.</p>
<p><code>st_equals_exact</code> returns true for two geometries of the same type and their vertices corresponding by index are equal up to a specified tolerance.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>For intersection on pairs of simple feature geometries, use
the function <code><a href="geos_binary_ops.html">st_intersection</a></code> instead of <code>st_intersects</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pts</span> <span class="op">=</span> <span class="fu"><a href="sfc.html">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="st.html">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.5</span>,<span class="fl">.5</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="st.html">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.5</span>, <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="st.html">st_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.5</span>, <span class="fl">2.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pol</span> <span class="op">=</span> <span class="fu"><a href="st.html">st_polygon</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">0</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">lst</span> <span class="op">=</span> <span class="fu">st_intersects</span><span class="op">(</span><span class="va">pts</span>, <span class="va">pol</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sparse geometry binary predicate list of length 3, where the predicate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was `intersects'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: (empty)</span>
<span class="r-in"><span><span class="op">(</span><span class="va">mat</span> <span class="op">=</span> <span class="fu">st_intersects</span><span class="op">(</span><span class="va">pts</span>, <span class="va">pol</span>, sparse <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] FALSE</span>
<span class="r-in"><span><span class="co"># which points fall inside a polygon?</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">mat</span>, <span class="fl">1</span>, <span class="va">any</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE  TRUE FALSE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/lengths.html" class="external-link">lengths</a></span><span class="op">(</span><span class="va">lst</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE  TRUE FALSE</span>
<span class="r-in"><span><span class="co"># which points fall inside the first polygon?</span></span></span>
<span class="r-in"><span><span class="fu">st_intersects</span><span class="op">(</span><span class="va">pol</span>, <span class="va">pts</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2</span>
<span class="r-in"><span><span class="co"># remove duplicate geometries:</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">=</span> <span class="fu"><a href="st.html">st_point</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">=</span> <span class="fu"><a href="st.html">st_point</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">=</span> <span class="fu"><a href="sf.html">st_sf</a></span><span class="op">(</span>a <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, geom <span class="op">=</span> <span class="fu"><a href="sfc.html">st_sfc</a></span><span class="op">(</span><span class="va">p1</span>, <span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p1</span>, <span class="va">p1</span>, <span class="va">p2</span>, <span class="va">p2</span>, <span class="va">p1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">st_equals</span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sparse geometry binary predicate list of length 8, where the predicate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was `equals'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: 1, 2, 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: 1, 2, 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: 3, 6, 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: 1, 2, 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: 1, 2, 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: 3, 6, 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: 3, 6, 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: 1, 2, 4, 5, 8</span>
<span class="r-in"><span><span class="fu">st_equals</span><span class="op">(</span><span class="va">p</span>, remove_self <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sparse geometry binary predicate list of length 8, where the predicate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was `equals', with remove_self = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: 2, 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: 1, 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: 6, 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: 1, 2, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: 1, 2, 4, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: 3, 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: 3, 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: 1, 2, 4, 5</span>
<span class="r-in"><span><span class="op">(</span><span class="va">u</span> <span class="op">=</span> <span class="fu">st_equals</span><span class="op">(</span><span class="va">p</span>, retain_unique <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sparse geometry binary predicate list of length 8, where the predicate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> was `equals', with retain_unique = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1: 2, 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: 4, 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3: 6, 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: 5, 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5: 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6: 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7: (empty)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8: (empty)</span>
<span class="r-in"><span><span class="co"># retain the records with unique geometries:</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">u</span><span class="op">)</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 2 features and 1 field</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 0 ymin: 1 xmax: 2 ymax: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRS:           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a        geom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 a POINT (0 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 c POINT (2 1)</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Edzer Pebesma.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

