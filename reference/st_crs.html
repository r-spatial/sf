<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Retrieve coordinate reference system from object — st_crs • sf</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Retrieve coordinate reference system from object — st_crs" />
<meta property="og:description" content="Retrieve coordinate reference system from sf or sfc object
Set or replace retrieve coordinate reference system from object" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0-2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sf1.html">1. Simple Features for R</a>
    </li>
    <li>
      <a href="../articles/sf2.html">2. Reading, Writing and Converting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf3.html">3. Manipulating Simple Feature Geometries</a>
    </li>
    <li>
      <a href="../articles/sf4.html">4. Manipulating Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf5.html">5. Plotting Simple Features</a>
    </li>
    <li>
      <a href="../articles/sf6.html">6. Miscellaneous</a>
    </li>
    <li>
      <a href="../articles/sf7.html">7. Spherical geometry in sf using s2geometry</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-spatial/sf/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Retrieve coordinate reference system from object</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-spatial/sf/blob/master/R/crs.R'><code>R/crs.R</code></a></small>
    <div class="hidden name"><code>st_crs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Retrieve coordinate reference system from sf or sfc object</p>
<p>Set or replace retrieve coordinate reference system from object</p>
    </div>

    <pre class="usage">st_crs(x, ...)

# S3 method for sf
st_crs(x, ...)

# S3 method for numeric
st_crs(x, ...)

# S3 method for character
st_crs(x, ...)

# S3 method for sfc
st_crs(x, ..., parameters = FALSE)

# S3 method for bbox
st_crs(x, ...)

# S3 method for CRS
st_crs(x, ...)

# S3 method for crs
st_crs(x, ...)

st_crs(x) &lt;- value

# S3 method for sf
st_crs(x) &lt;- value

# S3 method for sfc
st_crs(x) &lt;- value

st_set_crs(x, value)

NA_crs_

# S3 method for crs
is.na(x)

# S3 method for crs
$(x, name)

# S3 method for crs
format(x, ...)

st_axis_order(authority_compliant = logical(0))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>numeric, character, or object of class <a href='sf.html'>sf</a> or <a href='sfc.html'>sfc</a></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>ignored</p></td>
    </tr>
    <tr>
      <th>parameters</th>
      <td><p>logical; <code>FALSE</code> by default; if <code>TRUE</code> return a list of coordinate reference system parameters, with named elements <code>SemiMajor</code>, <code>InvFlattening</code>, <code>units_gdal</code>, <code>IsVertical</code>, <code>WktPretty</code>, and <code>Wkt</code></p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>one of (i) character: a string accepted by GDAL, (ii) integer, a valid EPSG value (numeric), or (iii) an object of class <code>crs</code>.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>element name</p></td>
    </tr>
    <tr>
      <th>authority_compliant</th>
      <td><p>logical; specify whether axis order should be
handled compliant to the authority; if omitted, the current value is printed.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>An object of class <code>crs</code> of length 2.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>x</code> is numeric, return <code>crs</code> object for EPSG:<code>x</code>;
if <code>x</code> is character, return <code>crs</code> object for <code>x</code>;
if <code>x</code> is of class <code>sf</code> or <code>sfc</code>, return its <code>crs</code> object.</p>
<p>Object of class <code>crs</code>, which is a list with elements <code>input</code> (length-1 character)
and <code>wkt</code> (length-1 character).
Elements may be <code>NA</code> valued; if all elements are <code>NA</code> the CRS is missing valued, and coordinates are
assumed to relate to an arbitrary Cartesian coordinate system.</p>
<p><code>st_axis_order</code> returns the (logical) current value if called without
argument, or (invisibly) the previous value if it is being set.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The *crs functions create, get, set or replace the <code>crs</code> attribute
of a simple feature geometry list-column. This attribute is of class <code>crs</code>,
and is a list consisting of <code>input</code> (user input, e.g. "EPSG:4326" or "WGS84"
or a proj4string), and <code>wkt</code>, an automatically generated wkt2 representation of the crs.
If <code>x</code> is identical to the wkt2 representation, and the CRS has a name, this name
is used for the <code>input</code> field.</p>
<p>Comparison of two objects of class <code>crs</code> uses the GDAL function
<code>OGRSpatialReference::IsSame</code>.</p>
<p>In case a coordinate reference system is replaced, no transformation takes
place and a warning is raised to stress this.</p>
<p><code>NA_crs_</code> is the <code>crs</code> object with missing values for <code>input</code> and <code>wkt</code>.</p>
<p>the <code><a href='https://rdrr.io/r/base/Extract.html'>$</a></code> method for <code>crs</code> objects retrieves named elements
using the GDAL interface; named elements include
<code>"SemiMajor"</code>, <code>"SemiMinor"</code>, <code>"InvFlattening"</code>, <code>"IsGeographic"</code>,
<code>"units_gdal"</code>, <code>"IsVertical"</code>, <code>"WktPretty"</code>, <code>"Wkt"</code>,
<code>"Name"</code>, <code>"proj4string"</code>, <code>"epsg"</code>, <code>"yx"</code> and
<code>"ud_unit"</code> (this may be subject to changes in future GDAL versions).</p>
<p>format.crs returns NA if the crs is missing valued, or else
the name of a crs if it is different from "unknown", or
else the user input if it was set, or else its "proj4string" representation;</p>
<p><code>st_axis_order</code> can be used to get and set the axis order: <code>TRUE</code>
indicates axes order according to the authority
(e.g. EPSG:4326 defining coordinates to be latitude,longitude pairs), <code>FALSE</code>
indicates the usual GIS (display) order (longitude,latitude). This can be useful
when data are read, or have to be written, with coordinates in authority compliant order.
The return value is the current state of this (<code>FALSE</code>, by default).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>sfc</span> <span class='op'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span><span class='op'>(</span><span class='fu'><a href='st.html'>st_point</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>, <span class='fu'><a href='st.html'>st_point</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>sf</span> <span class='op'>=</span> <span class='fu'><a href='sf.html'>st_sf</a></span><span class='op'>(</span>a <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>, geom <span class='op'>=</span> <span class='va'>sfc</span><span class='op'>)</span>
<span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>sf</span><span class='op'>)</span> <span class='op'>=</span> <span class='fl'>4326</span>
<span class='fu'><a href='st_geometry.html'>st_geometry</a></span><span class='op'>(</span><span class='va'>sf</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Geometry set for 2 features 
#&gt; Geometry type: POINT
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 0 ymin: 0 xmax: 1 ymax: 1
#&gt; Geodetic CRS:  WGS 84</div><div class='output co'>#&gt; <span class='message'>POINT (0 0)</span></div><div class='output co'>#&gt; <span class='message'>POINT (1 1)</span></div><div class='input'><span class='va'>sfc</span> <span class='op'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span><span class='op'>(</span><span class='fu'><a href='st.html'>st_point</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>, <span class='fu'><a href='st.html'>st_point</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>st_crs</span><span class='op'>(</span><span class='va'>sfc</span><span class='op'>)</span> <span class='op'>=</span> <span class='fl'>4326</span>
<span class='va'>sfc</span>
</div><div class='output co'>#&gt; Geometry set for 2 features 
#&gt; Geometry type: POINT
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 0 ymin: 0 xmax: 1 ymax: 1
#&gt; Geodetic CRS:  WGS 84</div><div class='output co'>#&gt; <span class='message'>POINT (0 0)</span></div><div class='output co'>#&gt; <span class='message'>POINT (1 1)</span></div><div class='input'><span class='va'>sfc</span> <span class='op'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span><span class='op'>(</span><span class='fu'><a href='st.html'>st_point</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>, <span class='fu'><a href='st.html'>st_point</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>=</span> <span class='va'>sfc</span> <span class='op'>%&gt;%</span> <span class='fu'>st_set_crs</span><span class='op'>(</span><span class='fl'>4326</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='fl'>3857</span><span class='op'>)</span>
<span class='va'>x</span>
</div><div class='output co'>#&gt; Geometry set for 2 features 
#&gt; Geometry type: POINT
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 0 ymin: 0 xmax: 111319.5 ymax: 111325.1
#&gt; Projected CRS: WGS 84 / Pseudo-Mercator</div><div class='output co'>#&gt; <span class='message'>POINT (0 0)</span></div><div class='output co'>#&gt; <span class='message'>POINT (111319.5 111325.1)</span></div><div class='input'><span class='fu'>st_crs</span><span class='op'>(</span><span class='st'>"EPSG:3857"</span><span class='op'>)</span><span class='op'>$</span><span class='va'>input</span>
</div><div class='output co'>#&gt; [1] "EPSG:3857"</div><div class='input'><span class='fu'>st_crs</span><span class='op'>(</span><span class='fl'>3857</span><span class='op'>)</span><span class='op'>$</span><span class='va'>proj4string</span>
</div><div class='output co'>#&gt; [1] "+proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext +no_defs"</div><div class='input'><span class='fu'>st_crs</span><span class='op'>(</span><span class='fl'>3857</span><span class='op'>)</span><span class='op'>$</span><span class='va'>b</span>     <span class='co'># numeric</span>
</div><div class='output co'>#&gt; [1] 6378137</div><div class='input'><span class='fu'>st_crs</span><span class='op'>(</span><span class='fl'>3857</span><span class='op'>)</span><span class='op'>$</span><span class='va'>units</span> <span class='co'># character</span>
</div><div class='output co'>#&gt; [1] "m"</div><div class='input'><span class='va'>pt</span> <span class='op'>=</span> <span class='fu'><a href='sfc.html'>st_sfc</a></span><span class='op'>(</span><span class='fu'><a href='st.html'>st_point</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>60</span><span class='op'>)</span><span class='op'>)</span>, crs <span class='op'>=</span> <span class='fl'>4326</span><span class='op'>)</span>
<span class='co'># st_axis_order() only has effect in GDAL &gt;= 2.5.0:</span>
<span class='fu'>st_axis_order</span><span class='op'>(</span><span class='op'>)</span> <span class='co'># query default: FALSE means interpret pt as (longitude latitude)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'><a href='st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='va'>pt</span>, <span class='fl'>3857</span><span class='op'>)</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='output co'>#&gt; <span class='message'>POINT (0 8399738)</span></div><div class='input'><span class='va'>old_value</span> <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='sf_extSoftVersion.html'>sf_extSoftVersion</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>[</span><span class='st'>"GDAL"</span><span class='op'>]</span> <span class='op'>&gt;=</span> <span class='st'>"2.5.0"</span><span class='op'>)</span>
   <span class='op'>(</span><span class='va'>old_value</span> <span class='op'>=</span> <span class='fu'>st_axis_order</span><span class='op'>(</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='co'># now interpret pt as (latitude longitude), as EPSG:4326 prescribes:</span>
<span class='fu'>st_axis_order</span><span class='op'>(</span><span class='op'>)</span> <span class='co'># query current value</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='st_transform.html'>st_transform</a></span><span class='op'>(</span><span class='va'>pt</span>, <span class='fl'>3857</span><span class='op'>)</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='output co'>#&gt; <span class='message'>POINT (6679169 0)</span></div><div class='input'><span class='fu'>st_axis_order</span><span class='op'>(</span><span class='va'>old_value</span><span class='op'>)</span> <span class='co'># set back to old value</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Edzer Pebesma.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


